<!-- saved from url=(0014)about:internet -->
<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="31,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type0" id="S2T0U3">lam</span>,<span class="var type1" id="S3T29U4">th_i</span>] = p_IK(<span class="var type1" id="S4T4U7">d</span>,<span class="var type1" id="S5T4U8">R_ang</span>,<span class="var type2" id="S6T1V5U9">anga</span>,<span class="var type2" id="S7T1V6U10">angb</span>,<span class="var type2" id="S8T2V7U11">a</span>,<span class="var type2" id="S9T2V8U12">b</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="31,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="31,3" id="srcline3"> 3</a></span><span class="line"><span class="mxinfo " id="T26:U8"><span class="var type1" id="S10T26U15">R</span> = <span class="mxinfo " id="T26:U10"><span class="mxinfo " id="T26:U11"><span class="mxinfo " id="T26:U12"><span class="fcn" id="F56N8:B19">Rotz</span>(<span class="mxinfo " id="T3:U13"><span class="var type1" id="S5T4U21">R_ang</span>(<span class="mxinfo " id="T21:U15">3</span>)</span>)</span>*<span class="mxinfo " id="T26:U16"><span class="fcn" id="F57N7:B24">Roty</span>(<span class="mxinfo " id="T3:U17"><span class="var type1" id="S5T4U26">R_ang</span>(<span class="mxinfo " id="T21:U19">2</span>)</span>)</span></span>*<span class="mxinfo " id="T26:U20"><span class="fcn" id="F58N6:B29">Rotx</span>(<span class="mxinfo " id="T3:U21"><span class="var type1" id="S5T4U31">R_ang</span>(<span class="mxinfo " id="T21:U23">1</span>)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="31,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">% l(3,6) = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">% q(6) = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">% lam(3,6) = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T30:U24"><span class="var type1" id="S14T30U35">th_1</span> = <span class="mxinfo " id="T30:U26">zeros(<span class="mxinfo " id="T3:U27">1</span>,<span class="mxinfo " id="T3:U28">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T30:U29"><span class="var type1" id="S16T30U42">th_2</span> = <span class="mxinfo " id="T30:U31">zeros(<span class="mxinfo " id="T3:U32">1</span>,<span class="mxinfo " id="T3:U33">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T30:U34"><span class="var type1" id="S17T30U49">th_3</span> = <span class="mxinfo " id="T30:U36">zeros(<span class="mxinfo " id="T3:U37">1</span>,<span class="mxinfo " id="T3:U38">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,11" id="srcline11">11</a></span><span class="line"><span class="mxinfo " id="T30:U39"><span class="var type1" id="S18T30U56">th_4</span> = <span class="mxinfo " id="T30:U41">zeros(<span class="mxinfo " id="T3:U42">1</span>,<span class="mxinfo " id="T3:U43">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,12" id="srcline12">12</a></span><span class="line"><span class="mxinfo " id="T30:U44"><span class="var type1" id="S19T30U63">th_5</span> = <span class="mxinfo " id="T30:U46">zeros(<span class="mxinfo " id="T3:U47">1</span>,<span class="mxinfo " id="T3:U48">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T30:U49"><span class="var type1" id="S20T30U70">th_6</span> = <span class="mxinfo " id="T30:U51">zeros(<span class="mxinfo " id="T3:U52">1</span>,<span class="mxinfo " id="T3:U53">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,14" id="srcline14">14</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="31,15" id="srcline15">15</a></span><span class="line"><span class="comment">% R1_3(3,3,6) = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,16" id="srcline16">16</a></span><span class="line"><span class="comment">% Rz_b(3,3,6) = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,17" id="srcline17">17</a></span><span class="line"><span class="comment">% Rz_a(3,3,6) = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,18" id="srcline18">18</a></span><span class="line"><span class="comment">% R4_6(3,3,6) = 0;</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,19" id="srcline19">19</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="31,20" id="srcline20">20</a></span><span class="line"><span class="keyword">for</span> <span class="var type1" id="S21T3U77">i</span> = <span class="mxinfo " id="T1:U55"><span class="mxinfo " id="T3:U56">1</span>:<span class="mxinfo " id="T3:U57">6</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="31,21" id="srcline21">21</a></span><span class="line">    <span class="var type0" id="S22T0U84"><span class="message error" id="M9F55C">l</span></span>(:,<span class="var type0" id="S21T0U86">i</span>) = <span class="mxinfo " id="T4:U58"><span class="mxinfo " id="T4:U59"><span class="var type1" id="S4T4U89">d</span> + <span class="mxinfo " id="T4:U61"><span class="var type1" id="S10T26U91">R</span>*<span class="mxinfo " id="T4:U63"><span class="var type1" id="S8T2U93">a</span>(<span class="mxinfo " id="T31:U65">:</span>,<span class="var type1" id="S21T3U95">i</span>)</span></span></span> - <span class="mxinfo " id="T4:U67"><span class="var type1" id="S9T2U97">b</span>(<span class="mxinfo " id="T31:U69">:</span>,<span class="var type1" id="S21T3U99">i</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,22" id="srcline22">22</a></span><span class="line">    <span class="var type0" id="S23T0U103">q</span>(<span class="var type0" id="S21T0U104">i</span>)=norm(<span class="var type0" id="S22T0U108"><span class="message error" id="M10F55C">l</span></span>(:,<span class="var type0" id="S21T0U110">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="31,23" id="srcline23">23</a></span><span class="line">    <span class="var type0" id="S17T0U114">th_3</span>(<span class="var type0" id="S21T0U115">i</span>) = <span class="var type0" id="S23T0U117"><span class="message error" id="M11F55C">q</span></span>(<span class="var type0" id="S21T0U118">i</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="31,24" id="srcline24">24</a></span><span class="line">    <span class="var type0" id="S2T0U122">lam</span>(:,<span class="var type0" id="S21T0U124">i</span>)=(<span class="var type0" id="S22T0U128"><span class="message error" id="M12F55C">l</span></span>(:,<span class="var type0" id="S21T0U130">i</span>))/(<span class="var type0" id="S23T0U133">q</span>(<span class="var type0" id="S21T0U134">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="31,25" id="srcline25">25</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="31,26" id="srcline26">26</a></span><span class="line">    <span class="var type0" id="S25T0U137">al</span> = (<span class="mxinfo " id="T3:U71">cos(<span class="mxinfo " id="T3:U72"><span class="mxinfo " id="T3:U73"><span class="var type1" id="S7T1U145">angb</span>(<span class="var type1" id="S21T3U146">i</span>)</span> + (<span class="mxinfo " id="T3:U76"><span class="mxinfo " id="T3:U77">pi</span>/<span class="mxinfo " id="T3:U78">2</span></span>)</span>)</span>*(<span class="var type0" id="S2T0U154"><span class="message error" id="M13F55C">lam</span></span>(1,<span class="var type0" id="S21T0U156">i</span>))) + (sin(<span class="var type0" id="S7T0U163">angb</span>(<span class="var type0" id="S21T0U164">i</span>) + (pi/2))*<span class="var type0" id="S2T0U171">lam</span>(2,<span class="var type0" id="S21T0U173">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="31,27" id="srcline27">27</a></span><span class="line">    <span class="var type0" id="S29T0U176">bl</span> = <span class="var type0" id="S2T0U178"><span class="message error" id="M14F55C">lam</span></span>(3,<span class="var type0" id="S21T0U180">i</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="31,28" id="srcline28">28</a></span><span class="line">    <span class="var type0" id="S14T0U184">th_1</span>(<span class="var type0" id="S21T0U185">i</span>) = atan(<span class="var type0" id="S25T0U189"><span class="message error" id="M15F55C">al</span></span>/<span class="var type0" id="S29T0U190">bl</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="31,29" id="srcline29">29</a></span><span class="line">    <span class="var type0" id="S31T0U193">cl</span> = (<span class="mxinfo " id="T3:U79">sin(<span class="mxinfo " id="T3:U80"><span class="mxinfo " id="T3:U81"><span class="var type1" id="S7T1U201">angb</span>(<span class="var type1" id="S21T3U202">i</span>)</span> + (<span class="mxinfo " id="T3:U84"><span class="mxinfo " id="T3:U85">pi</span>/<span class="mxinfo " id="T3:U86">2</span></span>)</span>)</span>*<span class="var type0" id="S2T0U209"><span class="message error" id="M16F55C">lam</span></span>(1,<span class="var type0" id="S21T0U211">i</span>)) - (cos(<span class="var type0" id="S7T0U218">angb</span>(<span class="var type0" id="S21T0U219">i</span>) + (pi/2))*<span class="var type0" id="S2T0U226">lam</span>(2,<span class="var type0" id="S21T0U228">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="31,30" id="srcline30">30</a></span><span class="line">    <span class="var type0" id="S16T0U232">th_2</span>(<span class="var type0" id="S21T0U233">i</span>) = asin(<span class="var type0" id="S31T0U236"><span class="message error" id="M17F55C">cl</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="31,31" id="srcline31">31</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="31,32" id="srcline32">32</a></span><span class="line">    <span class="var type0" id="S33T0U240"><span class="message error" id="M18F55C">R1_3</span></span>(:,:,<span class="var type0" id="S21T0U243">i</span>) = <span class="mxinfo " id="T26:U87"><span class="mxinfo " id="T26:U88"><span class="fcn" id="F57N7:B246">Roty</span>(<span class="mxinfo " id="T3:U89"><span class="var type1" id="S14T30U248">th_1</span>(<span class="var type1" id="S21T3U249">i</span>)</span>)</span>*<span class="mxinfo " id="T26:U92"><span class="fcn" id="F58N6:B251">Rotx</span>(<span class="mxinfo " id="T3:U93"><span class="var type1" id="S16T30U253">th_2</span>(<span class="var type1" id="S21T3U254">i</span>)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,33" id="srcline33">33</a></span><span class="line">    <span class="var type0" id="S34T0U258"><span class="message error" id="M19F55C">Rz_b</span></span>(:,:,<span class="var type0" id="S21T0U261">i</span>) = <span class="mxinfo " id="T26:U96"><span class="fcn" id="F56N8:B263">Rotz</span>(<span class="mxinfo " id="T3:U97"><span class="mxinfo " id="T3:U98"><span class="var type1" id="S7T1U266">angb</span>(<span class="var type1" id="S21T3U267">i</span>)</span> + (<span class="mxinfo " id="T3:U101"><span class="mxinfo " id="T3:U102">pi</span>/<span class="mxinfo " id="T3:U103">2</span></span>)</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,34" id="srcline34">34</a></span><span class="line">    <span class="var type0" id="S35T0U276"><span class="message error" id="M20F55C">Rz_a</span></span>(:,:,<span class="var type0" id="S21T0U279">i</span>) = <span class="mxinfo " id="T26:U104"><span class="fcn" id="F56N8:B281">Rotz</span>(<span class="mxinfo " id="T3:U105"><span class="mxinfo " id="T3:U106"><span class="var type1" id="S6T1U284">anga</span>(<span class="var type1" id="S21T3U285">i</span>)</span> + (<span class="mxinfo " id="T3:U109"><span class="mxinfo " id="T3:U110">pi</span>/<span class="mxinfo " id="T3:U111">2</span></span>)</span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,35" id="srcline35">35</a></span><span class="line">    <span class="var type0" id="S36T0U294">R4_6</span>(:,:,<span class="var type0" id="S21T0U297">i</span>) = <span class="var type0" id="S33T0U303"><span class="message error" id="M21F55C">R1_3</span></span>(:,:,<span class="var type0" id="S21T0U306">i</span>)'*<span class="var type0" id="S34T0U309">Rz_b</span>(:,:,<span class="var type0" id="S21T0U312">i</span>)'*<span class="var type0" id="S10T0U313">R</span>*<span class="var type0" id="S35T0U315">Rz_a</span>(:,:,<span class="var type0" id="S21T0U318">i</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="31,36" id="srcline36">36</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="31,37" id="srcline37">37</a></span><span class="line">    <span class="var type0" id="S18T0U322">th_4</span>(<span class="var type0" id="S21T0U323">i</span>) = atan2(-(<span class="var type0" id="S36T0U329"><span class="message error" id="M22F55C">R4_6</span></span>(1,2,<span class="var type0" id="S21T0U332">i</span>)),<span class="var type0" id="S36T0U334">R4_6</span>(2,2,<span class="var type0" id="S21T0U337">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="31,38" id="srcline38">38</a></span><span class="line">    <span class="var type0" id="S19T0U341">th_5</span>(<span class="var type0" id="S21T0U342">i</span>) = asin(<span class="var type0" id="S36T0U346"><span class="message error" id="M23F55C">R4_6</span></span>(3,2,<span class="var type0" id="S21T0U349">i</span>));</span></span>
<span class="srcline"><span class="lineno"><a href="31,39" id="srcline39">39</a></span><span class="line">    <span class="var type0" id="S20T0U353">th_6</span>(<span class="var type0" id="S21T0U354">i</span>) = atan2(-(<span class="var type0" id="S36T0U360"><span class="message error" id="M24F55C">R4_6</span></span>(3,1,<span class="var type0" id="S21T0U363">i</span>)),(<span class="var type0" id="S36T0U366">R4_6</span>(3,3,<span class="var type0" id="S21T0U369">i</span>)));</span></span>
<span class="srcline"><span class="lineno"><a href="31,40" id="srcline40">40</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="31,41" id="srcline41">41</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="31,42" id="srcline42">42</a></span><span class="line"><span class="mxinfo " id="T29:U112"><span class="var type1" id="S3T29U372">th_i</span> = <span class="mxinfo " id="T29:U114">[<span class="var type1" id="S14T30U375">th_1</span>;<span class="var type1" id="S16T30U377">th_2</span>;<span class="var type1" id="S17T30U379">th_3</span>;<span class="var type1" id="S18T30U381">th_4</span>;<span class="var type1" id="S19T30U383">th_5</span>;<span class="var type1" id="S20T30U385">th_6</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="31,43" id="srcline43">43</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="31,44" id="srcline44">44</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
</body>
</html>
